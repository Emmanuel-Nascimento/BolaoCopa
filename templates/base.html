<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BolÃ£o da Copa</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand p-0" href="{{ url_for('index') }}">
                <img src="{{ url_for('static', filename='logo.png') }}" alt="BolÃ£o da Copa" class="logo-img">
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav me-auto">
                    <a class="nav-link" href="{{ url_for('ranking') }}">ğŸ† Ranking</a>
                    <a class="nav-link text-info" href="#" data-bs-toggle="modal" data-bs-target="#modalRegras">â„¹ï¸ Regras</a>
                </div>

                <div class="navbar-nav ms-auto">
                    {% if current_user.is_authenticated %}
                        <span class="nav-item nav-link me-3">OlÃ¡, {{ current_user.nome }} ({{ current_user.pontos }} pts)</span>
                        
                        {% if current_user.is_admin %}
                            <a class="nav-link text-warning fw-bold" href="{{ url_for('admin') }}">
                                {% if current_user.id == 1 %}ğŸ‘‘ Dono{% else %}â­ Admin{% endif %}
                            </a>
                        {% endif %}
                        
                        <a class="nav-link" href="{{ url_for('logout') }}">Sair</a>
                    {% else %}
                        <a class="nav-link" href="{{ url_for('login') }}">Login</a>
                        <a class="nav-link" href="{{ url_for('cadastro') }}">Criar Conta</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <div class="container mt-3">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-info shadow-sm">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        
        {% block content %}{% endblock %}
    </div>

    <div class="modal fade" id="modalRegras" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content" style="background-color: #1a1d24; color: white; border: 1px solid #00aaff;">
          <div class="modal-header" style="border-bottom: 1px solid #2e3440;">
            <h5 class="modal-title" style="font-family: 'Oswald'; color: #00aaff;">ğŸ“œ Regras do BolÃ£o</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <p>Bem-vindo ao BolÃ£o! Entenda como pontuar:</p>
            <ul class="list-group list-group-flush">
                <li class="list-group-item bg-transparent text-white">âœ… <strong>1 Ponto:</strong> Se vocÃª acertar quem venceu ou se foi empate.</li>
                <li class="list-group-item bg-transparent text-white">ğŸš« <strong>0 Pontos:</strong> Se vocÃª errar o palpite.</li>
                <li class="list-group-item bg-transparent text-white">â° <strong>HorÃ¡rio:</strong> As apostas encerram no horÃ¡rio exato do jogo.</li>
            </ul>
            <p class="mt-3 small text-muted">DÃºvidas? Fale com o Admin.</p>
          </div>
          <div class="modal-footer" style="border-top: 1px solid #2e3440;">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Entendi</button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>